---
title: 重学css-盒子模型，定位
date: 2017-07-16T21:27:54+00:00
author: xutaotao
layout: post
categories:
  - 前端日记
tags:
  - css
---
**1.盒子模型**

首先盒子模型，这个很简单就像平常生活中的盒子。

<img class="size-medium wp-image-331 aligncenter" src="http://www.xutaotao.cn/wp-content/uploads/2017/07/box-model-300x162.gif" alt="" width="300" height="162" />

&nbsp;

但是有个比较特殊的地方就是IE和盒子模型

<img class="size-medium wp-image-332 aligncenter" src="http://www.xutaotao.cn/wp-content/uploads/2017/07/ie-box-300x175.jpg" alt="" width="300" height="175" />

&nbsp;

改进之处：CSS3的box-sizing属性可以定义要使用哪种盒子模型。

**2.外边距叠加**

当两个或者更多垂直外边距相遇时，会形成一个外边距，这个边距的高度等于两个发生叠加的外边距的高度中的较大者。外边距只可能在普通文档流中快框的垂直边距才会发生外边距叠加，行内框，浮动框或绝对定位框之间的外边距不会叠加。

外边距叠加的几种情况。

  * 一个元素出现在另一个元素上面时，第一个元素的底部与第二个元素的顶部外边距发生叠加。
  * 一个元素包含在另一个元素中时（假设没有内边距或边框将外边距分割开），他们的顶或者第边距会发生叠加。
  * 一个空元素，有外边距但是没有边框或者内边距，底部边距和顶部边距会叠加，如果又碰到另一个元素的外边距，又会再次叠加。

**3.定位**

CSS有三种定位机制：普通流，浮动，绝对定位。非专门指定，所有框都在普通流中定位。

  * 可视化格式模型

块级元素（block）特点：垂直排列，框之间的垂直距离由框的垂直外边距计算出来。独占一行，另起一行开始。margin，border，padding，width，height都可控制。

行内元素（inline）特点：在一行中水平排列。和相邻的行内元素在一行。width，height，margin-top（bottom），padding-top(bottom)都不能改变，left和right可以变化。

行内块元素（inline-block）特点:元素像行内元素一样水平依次排列，框的内容有块级元素的特性，margin，border，padding，width，height都可控制。

  * 几种定位

相对定位（relative）：相对于自己的起点定位。

绝对定位（absolute）：相对于距离它最近的已经定位定位的祖先元素定位。

固定定位：绝对定位中的一种，差异在于固定元素的包含块是viewport，一直出现在屏幕上的固定位置。

浮动：浮动的框可以向左或向右移动，直到它的外边缘碰到包含框或另一个浮动框的边框为止，由于浮动框不在文档的普通流中，所以文档的普通流中的块框表现得就像浮动框不存在一样（出自W3Cschool）。

此处最要注意的是几种清理浮动的方法。

(1)父级div定义 height
  
原理：父级div手动定义height，就解决了父级div无法自动获取到高度的问题。
  
优点：简单、代码少、容易掌握
  
缺点：只适合高度固定的布局，要给出精确的高度，如果高度和父级div不一样时，会产生问题
  
建议：不推荐使用，只建议高度固定的布局时使用
  
(2)结尾处加空div标签 clear:both
  
原理：添加一个空div，利用css提高的clear:both清除浮动，让父级div能自动获取到高度
  
优点：简单、代码少、浏览器支持好、不容易出现怪问题
  
缺点：不少初学者不理解原理；如果页面浮动布局多，就要增加很多空div，让人感觉很不好
  
建议：不推荐使用，但此方法是以前主要使用的一种清除浮动方法
  
(3)父级div定义 伪类:after 和 zoom
  
原理：IE8以上和非IE浏览器才支持:after，原理和方法2有点类似，zoom(IE转有属性)可解决ie6,ie7浮动问题
  
优点：浏览器支持好、不容易出现怪问题（目前：大型网站都有使用，如：腾迅，网易，新浪等等）
  
缺点：代码多、不少初学者不理解原理，要两句代码结合使用才能让主流浏览器都支持。
  
建议：推荐使用，建议定义公共类，以减少CSS代码。
  
(4)父级div定义 overflow:hidden
  
原理：必须定义width或zoom:1，同时不能定义height，使用overflow:hidden时，浏览器会自动检查浮动区域的高度
  
优点：简单、代码少、浏览器支持好
  
缺点：不能和position配合使用，因为超出的尺寸的会被隐藏。
  
建议：只推荐没有使用position或对overflow:hidden理解比较深的朋友使用。
  
(5)父级div定义 overflow:auto
  
原理：必须定义width或zoom:1，同时不能定义height，使用overflow:auto时，浏览器会自动检查浮动区域的高度
  
优点：简单、代码少、浏览器支持好
  
缺点：内部宽高超过父级div时，会出现滚动条。
  
建议：不推荐使用，如果你需要出现滚动条或者确保你的代码不会出现滚动条就使用吧。

&nbsp;